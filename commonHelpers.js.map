{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector(\".gallery\");\nconst container = document.querySelector(\"div\");\nconst inputDate = document.querySelector(\"input\");\nconst btn = document.querySelector(\".btn\");\n\n\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  container.append(loader);\n};\n\nbtn.addEventListener(\"submit\", (event) => {\n   showLoader();\n   gallery.innerHTML = \"\";\n   event.preventDefault();\n   const searchTerm = inputDate.value;\n   searchImages(searchTerm);\n});\n\nfunction searchImages(searchTerm) {\n  const apiKey = '41764579-b97d65b31c0abd4efd9d4830e';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(url)\n     .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            } else {\n                return response.json();\n            }\n        })\n    .then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            });\n        } else {\n       const markup = data.hits\n            .map(data => {\n            return `<li class=\"gallery-item\"><a href=\"${data.webformatURL}\">\n          <img class=\"gallery-image\" src=\"${data.largeImageURL}\" alt=\"${data.tags}\"></a>\n          <p><b>Likes: </b>${data.likes}</p>\n          <p><b>Views: </b>${data.views}</p>\n          <p><b>Comments: </b>${data.comments}</p>\n          <p><b>Downloads: </b>${data.downloads}</p>\n          </li>`;\n            }).join('');\n            \n            gallery.insertAdjacentHTML(\"beforeend\", marcup);\n        const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        fadeSpeed: 150,\n        captionSelector: \"img\",\n        captionDelay: 250,\n       });\n\n        lightbox.on('show.simplelightbox').refresh();\n                   \n \n        }\n         })\n      \n    .catch((error) => console.log(error));\n}\n\n"],"names":["gallery","container","inputDate","btn","showLoader","loader","event","searchTerm","searchImages","url","response","data","iziToast","SimpleLightbox","error"],"mappings":"6vBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,KAAK,EACxCC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAM,SAAS,cAAc,MAAM,EAGnCC,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BJ,EAAU,OAAOI,CAAM,CACzB,EAEAF,EAAI,iBAAiB,SAAWG,GAAU,CACvCF,IACAJ,EAAQ,UAAY,GACpBM,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAU,MAC7BM,EAAaD,CAAU,CAC1B,CAAC,EAED,SAASC,EAAaD,EAAY,CAEhC,MAAME,EAAM,qEAA4CF,4DAExD,MAAME,CAAG,EACL,KAAKC,GAAY,CACX,GAAKA,EAAS,GAGV,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAI/C,CAAS,EACJ,KAAKC,GAAQ,CACNA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,GAESD,EAAK,KACd,IAAIA,GACE,qCAAqCA,EAAK;AAAA,4CACjBA,EAAK,uBAAuBA,EAAK;AAAA,6BAChDA,EAAK;AAAA,6BACLA,EAAK;AAAA,gCACFA,EAAK;AAAA,iCACJA,EAAK;AAAA,gBAEzB,EAAE,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,YAAa,MAAM,EACjC,IAAIa,EAAe,aAAc,CAClD,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,gBAAiB,MACjB,aAAc,GACtB,CAAQ,EAES,GAAG,qBAAqB,EAAE,QAAO,EAIlD,CAAU,EAEL,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACxC"}